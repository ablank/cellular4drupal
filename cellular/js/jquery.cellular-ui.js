!function($){Drupal.behaviors.cellular={attach:function(t,e){var l={opts:{cclass:"cellular",activeclass:"active",breakpoint:"window_mobile"},state:{breakpoint:0,scrolltop:0,scrolltimer:0}};jQuery('a[href^="#"]').on("click",function(t){var e=jQuery(this).attr("href");t.preventDefault(),jQuery("html, body").stop().animate({scrollTop:jQuery(e).offset().top},1500)}),l.breakpoint=function(){var t=window.getComputedStyle(document.querySelector("body"),":before").getPropertyValue("content"),t=t?{size:t.match(/\d/g).join(""),type:t.match(/\w*[^\"\'](?=-)/g).join("")}:(t=jQuery(window).width(),console.log(t),{size:"",type:""});return t},l.activate=function(e){return e=e||l.opts.activeclass,this.each(function(){var t=jQuery(this);t.hasClass(e)||t.addClass(e).siblings().removeClass(e)})},l.deactivate=function(t){return t=t||l.opts.activeclass,this.each(function(){jQuery(this).removeClass(t)})},l.kidWrap=function(){return this.each(function(){var t=jQuery(this);1<t.children().length&&t.children(":gt(0)").wrapAll("<div>")})},l.classify=function(t){return this.each(function(){jQuery(this).addClass(t.join(" "))})},l.debounce=function(a,i,s){var r;return function(){var t=this,e=arguments,n=s&&!r;clearTimeout(r),r=setTimeout(function(){r=null,s||a.apply(t,e)},i),n&&a.apply(t,e)}},l.transitionend=function(){var t,e=document.createElement("test"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in n)if(void 0!==e.style[t])return n[t]},l.scrolltimer=function(t,e,n){window.clearTimeout(l.state.scrolltimer),l.state.scrolltimer=window.setTimeout(function(){t.removeClass(e+" "+n)},2e3)},l.buttonize=function(t,e,n){t=$("<a />").attr("href",t).attr("title",e).text(e).classify(n);return $(this).append(t)},l.windowstate=l.debounce(function(){var t=l.state.breakpoint;l.state.breakpoint=l.breakpoint().type,jQuery("body").removeClass(t).addClass(l.state.breakpoint)},100),l.scrollstate=l.debounce(function(t,e){var n=jQuery("body"),a="scrolling",i=a+"-up",a=a+"-down",s=jQuery(document).scrollTop(),r=n.height()/3;30<s?n.addClass("scrolled"):n.removeClass("scrolled"),s>l.state.scrolltop?n.addClass(a).removeClass(i):n.addClass(i).removeClass(a),s<r?n.removeClass("page-middle page-bottom").addClass("page-top"):r<s&&s<2*r?n.removeClass("page-top page-bottom").addClass("page-middle"):n.removeClass("page-top page-middle").addClass("page-bottom"),l.state.scrolltop=s,l.state.scrolled=s/(n.height()-jQuery(window).height())*100},0,!0),l.windowstate(),l.scrollstate(),jQuery(window).on("resize",l.windowstate),jQuery(document).on("scroll",l.scrollstate),l.jAccordion=function(t){var n=jQuery.extend({active:0,duration:500,easing:"swing",single:!1,pclass:"panel"},t),a={};return n.pselect="."+n.pclass,a.showContent=function(t){n.single?(t.siblings().find(n.pselect).slideUp(n.duration,n.easing),t.activate().find(n.pselect).slideDown(n.duration,n.easing)):t.toggleClass(l.opts.activeclass).find(n.pselect).slideToggle(n.duration,n.easing)},a.style=function(t){t.once("jAccordion",function(){t.find("> li").each(function(){var e=jQuery(this);e.kidWrap(),e.children().eq(0).addClass("title"),e.children().eq(1).classify([l.opts.cclass,"panel"]),e.find(n.pselect).hide(),e.find(".title").click(function(t){t.preventDefault(),a.showContent(e)})})})},a.init=function(){var t=jQuery(this);a.style(t),a.showContent(t.children().eq(n.active))},this.each(a.init)},l.jCard=function(t){var a=jQuery.extend({cclass:"jCard"},t),t={init:function(){var n=jQuery(this);n.once(a.cclass,function(){var t=n.find("a").eq(0),e=t.attr("href");void 0!==e&&(e=jQuery('<a href="'+e+'" />').classify([a.cclass+"-wrap",t.attr("class")?t.attr("class"):null]),n.wrap(e).find("h2, h3").addClass("title"))}),n.on("mouseenter touchstart",function(){jQuery(this).activate()}).on("mouseleave touchend",function(){jQuery(this).deactivate()})}};return this.each(t.init)},l.jFormal=function(t){var e=jQuery.extend({inputs:['input[type="text"]','input[type="email"]','input[type="password"]',"textarea"]},t);return this.each(function(){var t=e.inputs.join(",");jQuery(t).each(function(){var t=jQuery(this),e=holder=t.attr("placeholder");t.on("focus",function(){holder="",this.value===this.defaultValue&&(this.value="")}).on("blur",function(){holder=e,""===this.value&&(this.value=this.defaultValue)})})})},l.jMmenu=function(t){var i=jQuery.extend({breakpoint:l.opts.breakpoint,parent:jQuery("body"),cclass:"jMmenu",triggertext:"Menu",animateclass:"slide-right",throttle:101},t),s={};return s.mediaQuery=l.debounce(function(t,e){var n,a;i.breakpoint===l.state.breakpoint?(n=t.children([0]),e.mmenu=!(a=null),i.parent.addClass(i.animateclass),i.triggertext&&(a='<span class="'+i.cclass+'-triggertext">'+i.triggertext+"</span>"),t.addClass(i.cclass+"-trigger").append(a),n.addClass(i.cclass+"-menu").prependTo(i.parent)):(e.mmenu=!1,e.active=!1,i.parent.removeClass(i.cclass+"-active "+i.cclass+"-inactive "+i.animateclass),t.attr("aria-label","Menu").removeClass(i.cclass+"-trigger"),jQuery("."+i.cclass+"-menu").removeClass(i.cclass+"-menu").prependTo(t),jQuery("."+i.cclass+"-triggertext").remove()),s.menutrigger(t,e)},i.throttle),s.menutrigger=function(t,e){var n=[i.cclass+"-active",i.cclass+"-inactive"];e.active?(t.activate().attr("aria-label","Close Menu"),jQuery("."+i.cclass+"-menu").addClass("active"),i.parent.addClass(n[0]).removeClass(n[1])):(t.deactivate().attr("aria-label","Open Menu"),jQuery("."+i.cclass+"-menu").removeClass("active"),e.mmenu&&i.parent.addClass(n[1]).removeClass(n[0]))},s.style=function(t){t=t.find(">ul");0<t.find("ul").length&&t.find("li ul").addClass("child").parent().addClass("parent").css({willChange:"contents"})},s.listen=function(e,a){jQuery(window).on("resize",function(){s.mediaQuery(e,a)}),e.on("click",function(){a.mmenu&&(a.active=!a.active,s.menutrigger(e,a))}),jQuery(document).on("keyup",function(t){!0===a.active&&27===t.which&&(t.preventDefault(),a.active=!1,s.menutrigger(e,a))}),jQuery(".parent > a").on("click",function(t){var e,n;a.mmenu&&0<(n=(e=jQuery(this).parent()).children(":gt(0)")).length&&(t.preventDefault(),n.hasClass("active")?(e.removeClass("active"),n.removeClass("active")):(e.addClass("active"),n.addClass("active")))})},s.init=function(){var t=jQuery(this),e={active:!1,mmenu:!1};t.addClass(i.cclass).once(i.cclass,s.style(t)),s.mediaQuery(t,e),s.listen(t,e)},this.each(s.init)},l.jScrolli=function(t){var o=$.extend({cclass:"jScrolli",active:0,background:"img:first",title:"h2, h3",height:"auto",controls:{showmarkers:!0,showcontrols:!0,keyboard:!0,swipe:!0,autoplay:!0,pauseonhover:!0,autodim:!0,delay:1.4,text:{next:"Next",prev:"Prev",pause:"Pause",play:"Play"}},transition:{pause:5},caption:{enable:!0,autohide:!1,selector:".caption"}},t),c={button:function(t){return'<a class="'+o.cclass+"-control "+t.toLowerCase()+'">'+t+"</a>"},normalize:function(t){t.prev=t.current-1,t.next=t.current+1,t.prev<0&&(t.prev=t.count),t.next>t.count&&(t.next=0)},go:function(t,e,n){var a,i;n.paused||(a="transition",i=e.find("."+o.cclass+"-slide"),n.current=parseInt(t),c.normalize(n),jQuery(i[n.prev]).activate("previous"),jQuery(i[n.next]).activate("next"),jQuery(i[t]).activate(),e.parent().addClass(a).on(l.transitionend(),function(){jQuery(this).removeClass(a)}),o.controls.showmarkers&&c.mark(e,n),o.caption.enable&&c.caption(i,n),o.controls.autoplay&&c.updateinterval(e,n))},mark:function(t,e){t.siblings().find("."+o.cclass+"-marker").eq(e.current).activate()},caption:function(t,e){var t=t.parent().parent(),n=t.find("> .caption p");e.caption=t.find(o.caption.selector).eq(e.current).text(),n.on(l.transitionend(),function(){$(this).text(e.caption).activate()})},updateinterval:function(t,e){o.controls.autoplay&&!e.paused&&(clearInterval(e.interval),e.interval=setInterval(function(){e.current=e.next,c.go(e.current,t,e)},1e3*o.transition.pause))},events:function(e,n){e.siblings(".controls");var t=e.parent();o.controls.showmarkers&&e.siblings().find("."+o.cclass+"-marker").on("click",function(){n.current=jQuery(this).attr("data-href"),n.paused=!1,c.go(n.current,e,n)}),t.find(".prev").on("click",function(t){n.current=n.prev,n.paused=!1,c.go(n.current,e,n)}),t.find(".next").on("click",function(t){n.current=n.next,n.paused=!1,c.go(n.current,e,n)}),t.on({mouseover:function(){n.active=!0,o.controls.pauseonhover&&(n.paused=!0),o.controls.autodim&&(t.activate(),window.clearTimeout(t.timeout))},mouseout:function(){n.active=!1,o.controls.pauseonhover&&(n.paused=!1),o.controls.autodim&&(t.timeout=window.setTimeout(function(){t.deactivate()},1e3*o.controls.delay))}}),o.controls.keyboard&&jQuery(document).on("keyup",function(t){if(-1!==[37,39].indexOf(t.which)){switch(t.preventDefault(),n.paused=!1,t.which){case 37:n.current=n.prev;break;case 39:n.current=n.next}c.go(n.current,e,n)}})},setheight:function(t,e){jQuery(document).ready(function(){"auto"===o.height?t.find("> li").each(function(){var t=this.clientHeight;t>e.maxheight&&(e.maxheight=t)}):e.maxheight=o.height,t.height(e.maxheight)})},style:function(t,e){var n=t.find("> li");if(t.addClass(l.opts.cclass).wrap('<div class="'+l.opts.cclass+" "+o.cclass+'-wrap" />').parent().css({willChange:"contents"}),n.addClass(o.cclass+"-slide").each(function(){var t,e=jQuery(this);e.children().wrapAll('<div class="'+o.cclass+'-slide-content cell" />'),o.title&&e.find(o.title).addClass("title"),o.background&&(t=e.find(o.background)).length&&(t.hide(),e.css({"background-image":"url("+t.attr("src")+")"}).addClass(o.cclass+"-background"))}),c.setheight(t,e),o.controls.showmarkers){for(var a=jQuery('<ul class="'+o.cclass+'-markers"/>'),i=0;i<n.length;i+=1)a.append('<li class="'+o.cclass+'-marker" data-href="'+i+'">'+(i+1)+"</li>");t.after(a),c.mark(t,e)}if(o.caption.enable&&(e=t.find(o.caption.selector)).length&&(e.hide(),t.after('<div class="'+o.cclass+'-caption"><p/></div>')),o.controls.showcontrols)for(var s=[c.button(o.controls.text.prev),c.button(o.controls.text.next)],r=0;r<s.length;r+=1)t.parent().prepend(s[r])},init:function(){var t=jQuery(this),e={active:!0,paused:!1,count:t.find("> li").length-1,width:o.width||t.width(),maxheight:0,interval:0,controls:0,caption:jQuery(o.caption.selector).html(),current:o.active||0};t.once(o.cclass,function(){c.style(t,e)}),c.events(t,e),c.go(e.current,t,e),c.updateinterval(t,e)}};return this.each(c.init)},l.jSocial=function(t){var r=document.title,o=$("link[rel='canonical']")?$("link[rel='canonical']").attr("href"):window.location,c=jQuery.extend({sharetitle:"",followtitle:"",buttonclass:"social",share:[],follow:{}},t),e={style:function(s){s.once("jSocial",function(){var e,n,a,t,i;c.share&&(e=$('<div class="jSocial-share" />'),a={facebook:{title:"Facebook",url:"http://facebook.com/sharer/sharer.php?u="+o},digg:{title:"Digg",url:"http://digg.com/submit?url="+o+"&title="+r},google:{title:"Google",url:"https://plus.google.com/share?url="+o},twitter:{title:"Twitter",url:"https://twitter.com/intent/tweet?url="+o+"&text="+r},linkedin:{title:"LinkedIn",url:"http://linkedin.com/shareArticle?url="+o+"&title="+r},pinterest:{title:"Pinterest",url:"http://pinterest.com/pin/create/bookmarklet/?url="+o+"&description="+r},reddit:{title:"Reddit",url:"http://reddit.com/submit?url="+o+"&title="+r},stumbleupon:{title:"StumbleUpon",url:"http://www.stumbleupon.com/submit?url="+o+"&title="+r},tumblr:{title:"Tumblr",url:"https://www.tumblr.com/widgets/share/tool?canonicalUrl="+o+"&title="+r}},c.sharetitle&&(e.append('<span class="title">'+c.sharetitle+"</span>"),n=c.sharetitle+" on "),c.share.map(function(t){e.buttonize(a[t].url,n+a[t].title,[a[t].title.toLowerCase(),c.buttonclass,"icon"])}),s.append(e)),"undefined"!==Object.keys(c.follow)&&(t=$('<div class="jSocial-follow" />'),i="",c.followtitle&&(t.append('<span class="title">'+c.followtitle+"</span>"),i=c.followtitle+" on "),$.each(c.follow,function(){t.buttonize(this.url,i+this.title,[this.title.replace(/ /g,"").toLowerCase(),c.buttonclass,"icon"])}),s.append(t))})},init:function(){e.style(jQuery(this))}};return this.each(e.init)},l.jTabs=function(t){var a=jQuery.extend({active:0,orient:"horizontal",cclass:"jTabs"},t),i={showContent:function(t,e){var n=e.find(".content"),t=t.parent().find(".panel-content");e.activate(),t.fadeOut("normal",function(){jQuery(this).html(n.html()).fadeIn("normal")})},init:function(){var n=jQuery(this),t=n.find("> li"),e=jQuery("<div/>").classify([a.orient,a.cclass+"-wrap"]);n.once(a.cclass,function(){n.wrap(e).after('<div class="panel"><div class="panel-content" /></div>'),t.each(function(){var t=jQuery(this);t.addClass("tab").kidWrap(),t.children().eq(0).addClass("title"),t.children().eq(1).addClass("content").hide()})}),t.each(function(){var e=jQuery(this);e.click(function(t){t.preventDefault(),i.showContent(n,e)})}),i.showContent(n,t.eq([a.active]))}};return this.each(i.init)},jQuery.fn.extend(l)}}}(jQuery);